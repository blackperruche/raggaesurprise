<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Reggae Surprise</title>
  <link href="https://fonts.googleapis.com/css2?family=Reggae+One&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <div class="background-overlay">
    <nav>
      <ul>
        <li><a href="#" onclick="showSection('accueil')">Accueil</a></li>
        <li><a href="#" onclick="showSection('origines')">Origines</a></li>
        <li><a href="#" onclick="showSection('reseaux')">Réseaux</a></li>
        <li><a href="#" onclick="showSection('concerts')">Concerts</a></li>
        <li><a href="#" onclick="showSection('contact')">Contact</a></li>
      </ul>
    </nav>

    <div class="content-wrapper">
      <div class="logo-container">
        <img src="logo-reggae-surprise.png" alt="Logo Reggae Surprise" class="logo glow" id="logo" ondblclick="togglePlayPause(event)" onclick="handleClick(event)">
        <div id="overlay-play-button" onclick="startPlayback()">▶</div>
      </div>

      <div id="accueil" class="section">
        <h1 class="highlight"><em>“Vos plus grands hits prennent un virage reggae… surprise ! 🡝🎸✌🏻”</em></h1>
      </div>

      <div id="origines" class="section">
        <h1 class="highlight small origine-phrase">
          <em>
            “Ils voulaient juste faire une répète...<br>
            Résultat : un groupe, du groove, et une grosse surprise.”
          </em>
        </h1>
      </div>

      <div id="reseaux" class="section">
        <h2 class="highlight"><em>Viens nous écouter sur ton réseau préféré</em><span class="icon">🎶</span></h2>
        <div class="reseaux-icons">
          <a href="https://www.instagram.com/reggaesurpriseoff/" target="_blank" class="reseau-icon">
            <img src="instagram.png" alt="Instagram">
          </a>
          <a href="https://www.youtube.com/@ReggaeSurprise" target="_blank" class="reseau-icon">
            <img src="youtube.png" alt="YouTube">
          </a>
          <a href="https://www.facebook.com/" target="_blank" class="reseau-icon">
            <img src="facebook.png" alt="Facebook">
          </a>
        </div>
      </div>

      <div id="concerts" class="section">
        <h2 class="highlight"><em>Viens nous voir jouer le...</em></h2>
        <p class="concert-infos">
          <span>28 Juin</span> · 
          <span>19h</span> · 
          <span>à La Friche en Herbe</span> · 
          <span>15 Rue Emile Zola, 39400 Hauts-de-Bienne</span>
        </p>
      </div>

      <div id="contact" class="section">
        <p><span class="label">Mail :</span> <a href="mailto:perrucheblack@gmail.com">perrucheblack@gmail.com</a></p>
        <p><span class="label">Téléphone :</span> <a href="tel:0614855061">06 14 85 50 61</a></p>

        <form action="https://formspree.io/f/myzwdbdo" method="POST" class="contact-form">
          <input type="text" name="nom" placeholder="Votre nom" required>
          <input type="email" name="email" placeholder="Votre e-mail" required>
          <textarea name="message" rows="5" placeholder="Votre message" required></textarea>
          <input type="text" name="_gotcha" style="display:none">
          <input type="hidden" name="_next" value="https://blackperruche.github.io/merci.html">
          <button type="submit">Envoyer</button>
        </form>
      </div>
    </div>

    <audio id="audio-player" src="" preload="auto"></audio>
    <script>
      const playlist = [...Array(24)].map((_, i) => ({ file: `audio${i + 1}.mp3` }));
      let currentTrack = 0;
      const audio = document.getElementById('audio-player');
      const playButton = document.getElementById('overlay-play-button');

      function playCurrentTrack() {
        audio.src = playlist[currentTrack].file;
        audio.play().then(() => playButton.style.display = "none").catch(() => playButton.style.display = "block");
        audio.onended = () => {
          currentTrack = (currentTrack + 1) % playlist.length;
          playCurrentTrack();
        };
      }

      function startPlayback() {
        playCurrentTrack();
      }

      function handleClick(event) {
        event.stopPropagation();
        currentTrack = (currentTrack + 1) % playlist.length;
        playCurrentTrack();
      }

      function togglePlayPause(event) {
        event.stopPropagation();
        audio.paused ? audio.play() : audio.pause();
      }

      function showSection(id) {
        document.querySelectorAll('.section').forEach(section => section.style.display = 'none');
        document.getElementById(id).style.display = 'block';
      }

      window.onload = () => {
        showSection('accueil');
      };
    </script>
  </div>
</body>
</html>
