<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Reggae Surprise</title>
  <link href="https://fonts.googleapis.com/css2?family=Reggae+One&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <div class="background-overlay">
    <nav>
      <ul>
        <li><a href="#" onclick="showSection('accueil')">Accueil</a></li>
        <li><a href="#" onclick="showSection('origines')">Origines</a></li>
        <li><a href="#" onclick="showSection('reseaux')">R√©seaux</a></li>
        <li><a href="#" onclick="showSection('concerts')">Concerts</a></li>
        <li><a href="#" onclick="showSection('contact')">Contact</a></li>
      </ul>
    </nav>

    <div class="content-wrapper">
      <div class="logo-container">
        <img src="logo-raggae-surprise.png" alt="Logo Reggae Surprise" class="logo glow" id="logo" ondblclick="togglePlayPause(event)" onclick="handleClick(event)">
        <div id="overlay-play-button" onclick="startPlayback()">‚ñ∂</div>
      </div>

      <div id="accueil" class="section">
        <h1 class="highlight"><em>¬´ Vos plus grands hits prennent un virage reggae‚Ä¶ surprise ! ü•Åüé∏‚úåüèª ¬ª</em></h1>
      </div>

      <div id="origines" class="section">
        <h1 class="highlight small origine-phrase">
          <em>
            ‚ÄúMa√Ætre Perruche sur un arbre avec 2 mecs perch√©s,<br>
            chantait dans son bec un air √† la tangente<br>
            de la musique noire am√©ricaine et de la pop culture.‚Äù
          </em>
        </h1>
        <div class="boutons-bio">
          <button onclick="toggleBio('jack')">üé§ Voir Jack</button>
          <button onclick="toggleBio('james')">üé∏ Voir James</button>
        </div>

        <div class="origines-row">
          <div class="origine-profil" id="profil-jack">
            <img src="jack.jpg" alt="Jack">
            <p class="bio-text" id="bio-jack"></p>
          </div>
          <div class="origine-profil" id="profil-james">
            <img src="james.jpg" alt="James">
            <p class="bio-text" id="bio-james"></p>
          </div>
        </div>
      </div>

      <div id="reseaux" class="section">
        <h2 class="highlight"><em>Viens nous √©couter sur ton r√©seau pr√©f√©r√©</em><span class="icon">üé∂</span></h2>
        <div class="reseaux-icons">
          <a href="https://www.facebook.com/profile.php?id=61567461952336" target="_blank" class="reseau-icon">
            <img src="facebook.png" alt="Facebook">
          </a>
        </div>
      </div>

      <div id="concerts" class="section">
        <h2 class="highlight"><em>Viens nous voir jouer bient√¥t‚Ä¶</em></h2>
        <p class="concert-infos">
          (√† compl√©ter)
        </p>
      </div>

      <div id="contact" class="section">
        <p><span class="label">Mail :</span> <a href="mailto:perrucheblack@gmail.com">perrucheblack@gmail.com</a></p>
        <p><span class="label">T√©l√©phone :</span> <a href="tel:0614855061">06 14 85 50 61</a></p>

        <form action="https://formspree.io/f/myzwdbdo" method="POST" class="contact-form">
          <input type="text" name="nom" placeholder="Votre nom" required>
          <input type="email" name="email" placeholder="Votre e-mail" required>
          <textarea name="message" rows="5" placeholder="Votre message" required></textarea>
          <input type="text" name="_gotcha" style="display:none">
          <input type="hidden" name="_next" value="https://blackperruche.github.io/merci.html">
          <button type="submit">Envoyer</button>
        </form>
      </div>
    </div>

    <audio id="audio-player" src="" preload="auto"></audio>
    <script>
      const playlist = [...Array(24)].map((_, i) => ({ file: `audio${i + 1}.mp3` }));
      let currentTrack = 0;
      const audio = document.getElementById('audio-player');
      const playButton = document.getElementById('overlay-play-button');

      function playCurrentTrack() {
        audio.src = playlist[currentTrack].file;
        audio.play().then(() => playButton.style.display = "none").catch(() => playButton.style.display = "block");
        audio.onended = () => {
          currentTrack = (currentTrack + 1) % playlist.length;
          playCurrentTrack();
        };
      }

      function startPlayback() {
        playCurrentTrack();
      }

      function handleClick(event) {
        event.stopPropagation();
        currentTrack = (currentTrack + 1) % playlist.length;
        playCurrentTrack();
      }

      function togglePlayPause(event) {
        event.stopPropagation();
        audio.paused ? audio.play() : audio.pause();
      }

      function showSection(id) {
        document.querySelectorAll('.section').forEach(section => section.style.display = 'none');
        document.getElementById(id).style.display = 'block';
      }

      window.onload = () => {
        showSection('accueil');
      };

      const bios = {
        jack: {
          element: document.getElementById("bio-jack"),
          container: document.getElementById("profil-jack"),
          text: `Bio de Jack √† adapter pour Reggae Surprise.`,
          click: 0
        },
        james: {
          element: document.getElementById("bio-james"),
          container: document.getElementById("profil-james"),
          text: `Bio de James √† adapter pour Reggae Surprise.`,
          click: 0
        }
      };

      function typeText(name, index = 0) {
        const bio = bios[name];
        const words = bio.text.split(" ");
        if (index < words.length) {
          bio.element.innerHTML = words.slice(0, index + 1).join(" ") + " ";
          setTimeout(() => typeText(name, index + 1), 35);
        }
      }

      function toggleBio(name) {
        const bio = bios[name];
        bio.click++;
        if (bio.click % 3 === 1) {
          bio.container.style.display = "block";
          bio.element.innerText = "";
          typeText(name);
        } else if (bio.click % 3 === 2) {
          bio.container.style.display = "none";
          bio.element.innerText = "";
        } else {
          bio.container.style.display = "block";
          bio.element.innerText = bio.text;
        }
      }
    </script>
  </div>
</body>
</html>
